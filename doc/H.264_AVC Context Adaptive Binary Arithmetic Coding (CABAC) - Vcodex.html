<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#" lang="en-gb"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        

        <meta name="keywords" content="">
        <meta property="og:description" name="description" content="1 IntroductionThe H.264 Advanced Video Coding standard specifies two types of entrop coding: Context-based Adaptive Binary Arithmetic Coding (CABAC) and Variable-Length Coding (VLC). This document provides a short introduction to CABAC. Familiarity with the concept of Arithmetic Coding is assumed.">
        <title>H.264/AVC Context Adaptive Binary Arithmetic Coding (CABAC) - Vcodex</title>

        
        <link rel="shortcut icon" href="https://dd1nt2o142b7f.cloudfront.net/static/common/favicon.ico">

        
        <link rel="alternate" type="application/rss+xml" title="RSS" href="https://www.vcodex.com/news/feeds/rss/">
        <link rel="alternate" type="application/atom+xml" title="Atom" href="https://www.vcodex.com/news/feeds/atom/">

        
        <link rel="publisher" href="https://plus.google.com/+Vcodex">

        
        <meta property="og:site_name" content="Vcodex">
        <meta property="og:url" content="http://www.vcodex.com/h264avc-context-adaptive-binary-arithmetic-coding-cabac/">
        <meta property="og:title" content="H.264/AVC Context Adaptive Binary Arithmetic Coding (CABAC)">
        
            
            <meta property="og:image" content="https://dd1nt2o142b7f.cloudfront.net/static/common/img/vcodex_logo_square.png">
            <meta property="og:image:width" content="240">
            <meta property="og:image:height" content="240">
        
        <meta property="og:type" content="website">
        

        
        <link rel="stylesheet" href="H.264_AVC%20Context%20Adaptive%20Binary%20Arithmetic%20Coding%20(CABAC)%20-%20Vcodex_files/19fa0d901dd4.css" type="text/css">

        
        <script async="" src="H.264_AVC%20Context%20Adaptive%20Binary%20Arithmetic%20Coding%20(CABAC)%20-%20Vcodex_files/analytics.js"></script><script type="text/javascript" src="H.264_AVC%20Context%20Adaptive%20Binary%20Arithmetic%20Coding%20(CABAC)%20-%20Vcodex_files/0ac26ab5d506.js"></script>

        
    </head>

    <body>
        
        <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navbar-collapse" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                    
                    <a class="navbar-brand" href="https://www.vcodex.com/" title="Vcodex"><img src="H.264_AVC%20Context%20Adaptive%20Binary%20Arithmetic%20Coding%20(CABAC)%20-%20Vcodex_files/vcodex_logo.png" alt="Vcodex" title="Home" width="131" height="32"></a>
                </div>

                <div id="main-navbar-collapse" class="collapse navbar-collapse">
                    
<ul class="nav navbar-nav navbar-right"><li class="search-toggle dropdown
                                   " id="what-we-offer"><a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                What we offer
                                <span class="caret"></span></a><ul class="dropdown-menu"><li class="
                                   " id="what-we-offer-patent-analysis"><a href="https://www.vcodex.com/what-we-offer/patent-analysis/">Patent Analysis</a></li><li class="
                                   " id="what-we-offer-expert-witness"><a href="https://www.vcodex.com/what-we-offer/expert-witness/">Expert Witness</a></li><li class="
                                   " id="what-we-offer-identifying-value"><a href="https://www.vcodex.com/what-we-offer/identifying-value/">Identifying Value</a></li><li class="
                                   " id="what-we-offer-products"><a href="https://www.vcodex.com/what-we-offer/products/">Products</a></li></ul></li><li class="search-toggle 
                                   " id="news"><a href="https://www.vcodex.com/news">
                                News
                                
                            </a></li><li class="search-toggle 
                                   " id="resources"><a href="https://www.vcodex.com/resources/">
                                Resources
                                
                            </a></li><li class="search-toggle 
                                   " id="about"><a href="https://www.vcodex.com/about/">
                                About
                                
                            </a></li><li class="search-toggle"><a id="menu-contact-link" href="#contact">Contact</a></li><li><div class="search-toggle search-toggle-in" style="display: none;"><form id="search-form" action="/search/" class="navbar-form navbar-right"><div class="input-group"><input id="search-q" class="form-control" type="text" name="q"><span class="input-group-btn"><button id="search-submit-btn" type="submit" class="btn btn-default">Search</button><a class="btn btn-link nav-search-toggle" href="#"><i class="fa fa-times"></i></a></span></div></form></div><a class="nav-search-toggle search-toggle search-toggle-in" href="#"><i class="fa fa-search"></i></a></li></ul>

                </div>
            </div>
        </nav>
        

        <div id="content" style="min-height: 0px;">
            
                

            

            
    
    <div id="richtextpage" class="with-sidebar">
        <div id="page-head" class="container-fluid">
            <div class="container">
                <h1>H.264/AVC Context Adaptive Binary Arithmetic Coding (CABAC)</h1>
            </div>
        </div>

        <div id="richtextpage-content" class="container-fluid">
            <div class="container">
                <div id="columns-row">
                    <div id="right-content">
                        


                        
                        <h2>1 Introduction</h2>
<p>The H.264 Advanced Video Coding standard specifies two types of 
entrop coding: Context-based Adaptive Binary Arithmetic Coding (CABAC) 
and Variable-Length Coding (VLC). This document provides a short 
introduction to CABAC. Familiarity with the concept of Arithmetic Coding
 is assumed.</p>
<h2>2 Context-based adaptive binary arithmetic coding (CABAC)</h2>
<p>In an H.264 codec, when entropy_coding_mode is set to 1, an 
arithmetic coding system is used to encode and decode H.264 syntax 
elements. The arithmetic coding scheme selected for H.264, Context-based
 Adaptive Binary Arithmetic Coding or CABAC, achieves good compression 
performance through (a) selecting probability models for each syntax 
element according to the element’s context, (b) adapting probability 
estimates based on local statistics and (c) using arithmetic coding.</p>
<p>Coding a data symbol involves the following stages.</p>
<ol>
<li>Binarization: CABAC uses Binary Arithmetic Coding which means that 
only binary decisions (1 or 0) are encoded. A non-binary-valued symbol 
(e.g. a transform coeﬃcient or motion vector) is “binarized” or 
converted into a binary code prior to arithmetic coding. This process is
 similar to the process of converting a data symbol into a variable 
length code but the binary code is further encoded (by the arithmetic 
coder) prior to transmission.</li>
</ol>
<p>Stages 2, 3 and 4 are repeated for each bit (or “bin”) of the binarized symbol.</p>
<ol start="2">
<li>Context model selection: A “context model” is a probability model 
for one or more bins of the binarized symbol. This model may be chosen 
from a selection of available models depending on the statistics of 
recently-coded data symbols. The context model stores the probability of
 each bin being “1” or “0”.</li>
<li>Arithmetic encoding: An arithmetic coder encodes each bin according 
to the selected probability model. Note that there are just two 
sub-ranges for each bin (corresponding to “0” and “1”).</li>
<li>Probability update: The selected context model is updated based on 
the actual coded value (e.g. if the bin value was “1”, the frequency 
count of “1”s is increased).</li>
</ol>
<h2>3 The coding process</h2>
<p>We will illustrate the coding process for one example, MVDx (motion vector diﬀerence in the x-direction).</p>
<ol>
<li>&nbsp;Binarize the value MVDx . Binarization is carried out 
according to the following table for |MVDx|&lt;9 (larger values of MVDx 
are binarized using an Exp-Golomb codeword).</li>
</ol>
<p><img alt="Binarization" src="H.264_AVC%20Context%20Adaptive%20Binary%20Arithmetic%20Coding%20(CABAC)%20-%20Vcodex_files/cabac_1.png" style="margin-left: auto; margin-right: auto;" width="173" height="244"><br>&nbsp;</p>
<p>(Note that each of these binarized codewords are uniquely decodeable).</p>
<p>The first bit of the binarized codeword is bin 1; the second bit is bin 2; and so on.</p>
<ol>
<li>&nbsp;Choose a context model for each bin. One of 3 models is 
selected for bin 1, based on previous coded MVD values. The L1 norm of 
two previously-coded values, ek, is calculated:<br><br><img alt="" src="H.264_AVC%20Context%20Adaptive%20Binary%20Arithmetic%20Coding%20(CABAC)%20-%20Vcodex_files/cabac_2.png" style="margin-left: auto; margin-right: auto;" width="707" height="456"></li>
</ol>
<ol start="2">
<li>Encode each bin. The selected context model supplies two probability
 estimates: the probability that the bin contains “1” and the 
probability that the bin contains “0”. These estimates determine the two
 sub- ranges that the arithmetic coder uses to encode the bin.<br><br></li>
<li>Update the context models. For example, if context model 2 was 
selected for bin 1 and the value of bin 1 was “0”, the frequency count 
of “0”s is incremented. This means that the next time this model is 
selected, the probability of an “0” will be slightly higher. When the 
total number of occurrences of a model exceeds a threshold value, the 
frequency counts for “0” and “1” will be scaled down, which in eﬀect 
gives higher priority to recent observations.</li>
</ol>
<h2>4 The context models</h2>
<p>Context models and binarization schemes for each syntax element are 
defined in the standard. There are a total of 267 separate context 
models, 0 to 266 (as of September 2002) for the various syntax elements.
 Some models have diﬀerent uses depending on the slice type: for 
example, skipped macroblocks are not permitted in an I-slice and so 
context models 0-2 are used to code bins of mb_skip or mb_type depending
 on whether the current slice is Intra coded.</p>
<p>At the beginning of each coded slice, the context models are 
initialised depending on the initial value of the Quantization Parameter
 QP (since this has a significant eﬀect on the probability of occurrence
 of the various data symbols).</p>
<h2>5 The arithmetic coding engine</h2>
<p>The arithmetic decoder is described in some detail in the Standard. It has three distinct properties:</p>
<ol>
<li>Probability estimation is performed by a transition process between 
64 separate probability states for “Least Probable Symbol” (LPS, the 
least probable of the two binary decisions “0” or “1”).</li>
<li>The range R representing the current state of the arithmetic coder 
is quantized to a small range of pre- set values before calculating the 
new range at each step, making it possible to calculate the new range 
using a look-up table (i.e. multiplication-free).</li>
<li>A simplified encoding and decoding process is defined for data symbols with a near-uniform probability distribution.</li>
</ol>
<p>The definition of the decoding process is designed to facilitate 
low-complexity implementations of arithmetic encoding and decoding. 
Overall, CABAC provides improved coding eﬃciency compared with VLC at 
the expense of greater computational complexity.&nbsp;</p>
<h3>Further reading</h3>
<p>Iain E Richardson, “The H.264 Advanced Video Compression Standard”, John Wiley &amp; Sons, 2010.</p>
<h3>About the author</h3>
<p>Vcodex is led by Professor Iain Richardson, an internationally known 
expert on the MPEG and H.264 video compression standards. Based in 
Aberdeen, Scotland, he frequently travels to the US and Europe.</p>
<p>Professor Richardson is the author of “The H.264 Advanced Video 
Compression Standard”, a widely cited work in the research literature. 
He has written three further books and over 50 journal and conference 
papers on image and video compression. He regularly advises companies on
 video codec technology, video coding patents and mergers/acquisitions 
in the video coding industry. Professor Richardson leads an 
internationally renowned image and video coding research team, 
contributes to the MPEG industry standards group and is sought after as 
an expert witness and litigation consultant.</p>
                        
                    </div>

                    <div id="left-sidebar">
                        
                            <div id="what-we-offer-side">
    <h3>What We Offer</h3>

    <ul class="sidebar-menu">
        <li>
            <a href="https://www.vcodex.com/what-we-offer/patent-analysis/" class="">Patent Analysis</a>
        </li>

        <li>
            <a href="https://www.vcodex.com/what-we-offer/expert-witness/" class="">Expert Witness</a>
        </li>

        <li>
            <a href="https://www.vcodex.com/what-we-offer/identifying-value/" class="">Identifying Value</a>
        </li>

        <li>
            <a href="https://www.vcodex.com/what-we-offer/products/" class="">Products</a>
        </li>
    </ul>
</div>

                        
                    </div>
                </div>
            </div>
        </div>
    </div>

        </div>

        <footer id="main-footer">
            <div id="contact" class="container-fluid">
                <div class="container">
                    <a href="https://www.vcodex.com/" id="logo-bottom-link">
                        <img class="img-responsive center-block" src="H.264_AVC%20Context%20Adaptive%20Binary%20Arithmetic%20Coding%20(CABAC)%20-%20Vcodex_files/vcodex-transp.png" alt="Vcodex" title="Vcodex" width="221" height="183">
                    </a>

                    <div class="row">
                        <div id="schedule-call-right-column" class="col-md-4 col-md-push-8">
                            <div id="schedule-call-wrap">
                                <h3>Schedule a call</h3>
                                <div id="form-messages"></div>
                                <form id="contact-form" autocomplete="on" novalidate="novalidate">
                                    <input type="hidden" name="csrfmiddlewaretoken" value="38RZhdOjRzFGh2OE1fsGKNxlCp6i2Ey1mj8glFZRcC7yTfV73GHmy4WfVt5mH1FK">
                                    <div id="contact-form-fields">
                                        <div class="form-group">
                                            <input type="text" class="form-control" id="id_name" name="name" maxlength="100" placeholder="Name">
                                        </div>
                                        <div class="form-group">
                                            <input type="email" class="form-control" id="id_email" name="email" maxlength="250" placeholder="Email" required="" aria-required="true">
                                        </div>
                                        <div class="form-group">
                                            <input type="tel" class="form-control" id="id_phone" name="phone" maxlength="250" placeholder="Phone number">
                                        </div>
                                        <div class="form-group">
                                            <textarea class="form-control" id="id_message" name="message" maxlength="1000" placeholder="Message" required="" aria-required="true"></textarea>
                                        </div>
                                        <div class="checkbox">
                                            <label>
                                                <input type="checkbox" name="email_opt_in" id="id_email_opt_in" checked="checked">
                                                Send me updates related to Vcodex
                                            </label>
                                        </div>
                                    </div>

                                    <button id="contact-submit" type="submit" class="btn btn-primary raised-button"><i class="fa fa-envelope fa-fw"></i> <span id="send-text">Send message</span><span id="sending-text" style="display: none;">Sending...</span></button>
                                    <img src="H.264_AVC%20Context%20Adaptive%20Binary%20Arithmetic%20Coding%20(CABAC)%20-%20Vcodex_files/ajax-loader.gif" id="contact-loading-indicator" style="display:none" alt="Sending message..." width="32" height="32">
                                </form>
                            </div>
                        </div>

                        <div id="schedule-call-left-column" class="col-md-8 col-md-pull-4">
                            <div id="set-up-discussion-footer">
                                <h3>Set up a discussion</h3>
                                <p id="first-line">To find out how we can help you with your project, get in touch.</p>
                                <p>Call <a href="tel:+18036201732">+1 803 620 1732</a> (USA) or email <a href="mailto:info@vcodex.com">info@vcodex.com</a> to schedule a discussion.</p>
                            </div>

                            <div id="footer-extra-menu" class="row">
                                <div class="col-xs-4">
                                    <h5>What we offer</h5>

                                    <ul class="list-unstyled">
                                        <li>
                                            <a href="https://www.vcodex.com/what-we-offer/expert-witness/">Expert Witness</a>
                                        </li>
                                        <li>
                                            <a href="https://www.vcodex.com/what-we-offer/patent-analysis/">Patent Analysis</a>
                                        </li>
                                        <li>
                                            <a href="https://www.vcodex.com/what-we-offer/identifying-value/">Identifying Value</a>
                                        </li>
                                    </ul>
                                </div>

                                <div class="col-xs-4">
                                    <h5>Know more</h5>

                                    <ul class="list-unstyled">
                                        <li>
                                            <a href="https://www.vcodex.com/resources/">Resources</a>
                                        </li>
                                        <li>
                                            <a href="https://www.vcodex.com/h264-resources/">H.264</a>
                                        </li>
                                        <li>
                                            <a href="https://www.vcodex.com/h265-high-efficiency-video-coding-hevc/">H.265 - HEVC</a>
                                        </li>
                                    </ul>
                                </div>

                                <div class="col-xs-4">
                                    <h5>About</h5>

                                    <ul class="list-unstyled">
                                        <li>
                                            <a href="https://www.vcodex.com/about/">Us</a>
                                        </li>
                                        <li>
                                            <a href="https://www.vcodex.com/people/">Our People</a>
                                        </li>
                                        <li>
                                            <a href="https://www.vcodex.com/our-clients/">Our Clients</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            
            <div id="contact-sub" class="container-fluid">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <span class="pull-left small">
                                <span itemscope="" itemtype="http://schema.org/Organization">
                                    <span itemprop="name">Vcodex Limited</span>,
                                    <span itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress">
                                        <span itemprop="streetAddress">35 Regent Quay</span>,
                                        <span itemprop="addressLocality">Aberdeen</span>
                                        <span itemprop="postalCode">AB11 5BE</span>
                                        <span itemprop="addressCountry">Scotland</span>
                                    </span>

                                    • USA: <a href="tel:+18036201732" itemprop="telephone">+1 803 620 1732</a>
                                    • UK: <a href="tel:+441224595939" itemprop="telephone">+44 1224 595939</a>
                                    • <a href="mailto:info@vcodex.com" itemprop="email">info@vcodex.com</a>
                                </span>
                                • <a href="https://www.linkedin.com/company/vcodex-limited" title="@vcodex-limited at Linkedin" target="_blank"><i class="fa fa-linkedin"></i></a>
                                • <a href="https://twitter.com/vcodexgroup" title="@vcodexgroup at Twitter" target="_blank"><i class="fa fa-twitter"></i></a>
                            </span>

                            <span class="pull-right small">
                                © Vcodex Ltd 2007-2019
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            
        </footer>

        
        <!--[if lt IE 9]>
          <script type="text/javascript" src="//oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script type="text/javascript" src="//oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

        
            
            <script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-3192903-4', 'auto');
              ga('send', 'pageview');
            </script>
        

        
    

</body></html>